<p id="notice"><%= notice %></p>

<h1>Listing Categories</h1>

<p>
  <%= link_to 'New Category', new_category_path %> |
  <%= link_to 'Transactions', transactions_path %>
</p>

<table class="categorias">
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
      <th>Group</th>
      <th>Frequency</th>
      <th>Disabled</th>
      <th colspan="3"></th>
    </tr>
  </thead>


  <%@grouped_categories = @categories.group_by(&:group)%>
  <%@grouped_categories.each do |group, categories_of_group|%>
    <tbody>
    <%categories_of_group.each do |category| %>
      <tr class="<%=category.category_type%>">
        <td><%= category.category_type.humanize %></td>
        <td><%= category.full_description %></td>
        <td><%= category.group %></td>
        <td><%= category.frequency.humanize %></td>
        <td><%= category.disabled %></td>
        <td><%= link_to 'Show', category %></td>
        <td><%= link_to 'Edit', edit_category_path(category) %></td>
        <td><%= link_to 'Destroy', category, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
    </tbody>
  <% end %>
</table>

<br>

<%= link_to 'New Category', new_category_path %> |
<%= link_to 'Transactions', transactions_path %>
